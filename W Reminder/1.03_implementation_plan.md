# W Reminder v1.03 Beta Plan: Habits & Widgets

**Theme:** "Engagement & Accessibility"
**Goal:** Bring the user back to the app through easy access (Widgets) and gamification (Streaks), while reducing friction (Interactive Notifications).

## 1. Home Screen Widgets
*Objective:* Allow users to see their daily to-dos without opening the app.
*   **Small Widget:**
    *   Shows a circular progress ring for today's completion.
    *   Displays current Streak count.
*   **Medium Widget:**
    *   Shows "Today's Tasks" list (Top 3 priority/earliest due).
    *   Visual distinction between Milestones (Star) and Simple Checklists.
*   **Technical Constraint:** Requires a new Xcode Target (`WidgetExtension`). User must create this manually.

## 2. Interactive Notifications
*Objective:* Allow users to complete tasks the moment they are reminded.
*   **Action Categories:**
    *   `Checklist`: "Mark as Done", "Snooze 1h".
*   **Implementation:**
    *   Update `NotificationManager` to register categories.
    *   Handle `UNUserNotificationCenter` delegate callbacks to process background completion.
    *   Update local database and trigger background Sync.

## 3. Habit Streaks System
*Objective:* Gamify the experience to maximize daily retention.
*   **Logic:**
    *   Streak increments if at least 1 task is completed on a day.
    *   Streak breaks if a day passes with 0 completions.
    *   (Optional) "Freeze" streaks on weekends if configured.
*   **UI:**
    *   Fire icon + Count in the Main Header (ContentView).
    *   Congratulatory animation when extending the streak.

## 4. Polishing
*   Ensure Dark Mode consistency in new Widgets.
*   Verify Sync works correctly when items are completed via Notifications/Widgets (Data sharing via App Groups likely needed for Widgets).

## Prerequisites for Development
1.  **App Groups**: To share database/favorites between Main App and Widget, we need to enable App Groups capability in Xcode.
2.  **Widget Target**: User needs to add a widget target.
